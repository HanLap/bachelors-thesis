% !ignore-section
\NeedsTeXFormat{LaTeX2e}


% Font size = 10, DIV = 11 to reduce waste of space %
\documentclass[
a4paper,
% 10pt,
% headsepline,           % Linie zw. Kopfzeile und Text
% doubleside,            % doppelseitig
numbers=noenddot,      % keine Punkte nach den letzten Ziffern in Überschriften
bibliography=totoc,              % LV im IV
%DIV=15,               % Satzspiegel auf 15er Raster, schmalere Ränder   
BCOR=15mm,               % Bindekorrektur
leqno					% equation numbers to the left
% fleqn
%,draft
]{scrbook}
\KOMAoptions{DIV=11} % Neuberechnung Satzspiegel nach Laden von Paket helvet

% be able to include real vector graphics in thesis. You need inkscape installed and your pdflatex command must be called with --shell-escape for this to work.
% TeXstudio: Options → Configure → Commands → pdflatex = pdflatex -synctex=1 -interaction=nonstopmode --shell-escape %.tex
% inkscape=newer to avoid re-export if nothing has changed in the svg. inkscapelatex=false for not using latex to render text (which in turn messes up all text in image). inkscapearea = page so that the SVG size is respected and borders in the SVG are not cut off
%\usepackage[inkscape=newer, inkscapelatex=false, inkscapearea=page]{svg} 


\pagestyle{headings}
\usepackage{blindtext}

% für Texte in deutscher Sprache
\usepackage[ngerman, USenglish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% enable HERE positioning %
\usepackage{float}

\usepackage{scrhack}

% Helvetica als Standard-Dokumentschrift
\usepackage[scaled]{helvet}
\renewcommand{\familydefault}{\sfdefault} 


\usepackage{graphicx}
\hbadness=10000

% Literaturverzeichnis mit BibLaTeX // use Biber as Backend; dashed = false to repeat author names
\usepackage[babel]{csquotes}
\usepackage[backend=biber,style=ieee,dashed=false,hyperref,natbib]{biblatex}
\addbibresource{BA.bib}

% Für Tabellen mit fester Gesamtbreite und variabler Spaltenbreite
\usepackage{tabularx} 

% multirow tables
\usepackage{multirow}

% arrows in normal text, not only math
\newcommand*{\textrightarrow}{$ \rightarrow $}

\newcommand*{\textdownarrow}{$ \downarrow $}


% Besondere Schriftauszeichnungen
\usepackage{url}              % \url{http://...} in Schreibmaschinenschrift
\usepackage{color}            % zum Setzen farbigen Textes

\usepackage{setspace}         % Paket für div. Abstände, z.B. ZA
\setlength{\parindent}{0pt}   % kein linker Einzug der ersten Absatzzeile
\setlength{\parskip}{1.4ex plus 0.35ex minus 0.3ex} % Absatzabstand, leicht variabel

% Tiefe, bis zu der Überschriften in das Inhaltsverzeichnis kommen
\setcounter{tocdepth}{2}      % 3 ist Standard
\setcounter{secnumdepth}{3}   % 2 ist Standard

% don't list subsections of appendices in TOC
\usepackage{tocvsec2}


% Mathe
\usepackage{amsfonts}
\usepackage{amssymb}
%\usepackage{amsmath}
% Multilined / aligned command %
\usepackage{mathtools}

% Plots - https://www.overleaf.com/learn/latex/Pgfplots_package
\usepackage{pgfplots}

\pgfkeys{/pgf/number format/.cd,1000 sep={}}
\pgfplotsset{
	compat=newest,
	legend style={at={(0.5,-0.2)},anchor=north}, % legend to the bottom
	legend cell align={left}, % left align legend text
	ymajorgrids=true, 
	grid style=dashed,
	scaled ticks=false, % don't use 10^x notation
	tick label style={/pgf/number format/fixed},
	try min ticks=8,
	tick pos=left % no ticks at the right / top borders
}

% Landscape pages
\usepackage{pdflscape}

% diagonal boxes in table
\usepackage{diagbox}

% resume enumerate https://tex.stackexchange.com/questions/210429/how-can-a-bring-a-middle-paragraph-out-of-the-enumerate-environment
\usepackage{enumitem}

\usepackage[utf8]{inputenc}

% Pseudocode %
\usepackage[lined, algochapter, resetcount, linesnumbered]{algorithm2e}
\SetKwData{Left}{left}\SetKwData{This}{this}\SetKwData{Up}{up}
\SetKwFunction{Union}{Union}\SetKwFunction{FindCompress}{FindCompress}
\SetKwInOut{Input}{input}\SetKwInOut{Output}{output}
\SetKw{Continue}{continue}
\newcommand{\Function}[3]{
	\SetKwBlock{FunctionBlock}{function \textnormal{\textsc{#1} (\emph{#2})}}{end function}
	\FunctionBlock{#3}
}


\usepackage{hyperref,microtype,ifthen} 

\usepackage{xcolor}
% Cleveref so we don't have to write "Section \ref" each time and nameinlink so that the word "Section" also belongs to the PDF link!
\usepackage[nameinlink]{cleveref}
\usepackage{graphicx}


\usepackage{cellspace}
\setlength\cellspacetoplimit{4pt}
\setlength\cellspacebottomlimit{4pt}

% used for subfigures
\usepackage{subcaption}

% used for multi-page graphics
\usepackage{caption}
\usepackage{zref-savepos}
\usepackage{dpfloat}
%\providecommand*{\zsaveposy}{\zsavepos}% support older zref-savepos

% Don't abbreviate figure crefs. Also support algorithm2e listings %

\crefname{figure}{figure}{figures}
\crefname{equation}{formula}{formulas}
\crefname{algorithm}{algorithm listing}{algorithm listings}

\creflabelformat{equation}{#2#1#3}

% Graphen und sonstige Zeichnungen
\usepackage{tikz}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{shapes.misc}
\usetikzlibrary{positioning}
\usetikzlibrary{calc}

% Layout
\usepackage[scale=0.70, marginratio={4:5, 3:4}, ignoreall, headsep=8mm]{geometry}
\setlength{\parskip}{1.4ex plus 0.35ex minus 0.3ex}
\renewcommand\arraystretch{1.3} % höhere Zeilen in Tabellen
\clubpenalty10000  % keine Schusterjungen
\widowpenalty10000 % keine Hurenkinder
\setcounter{tocdepth}{3} % Tiefe, bis zu der Überschriften in das Inhaltsverzeichnis kommen


% vertical table headers https://tex.stackexchange.com/questions/98388/how-to-make-table-with-rotated-table-headers-in-latex
\usepackage{adjustbox}
\usepackage{array}
\usepackage{booktabs}

% partial function arrow https://tex.stackexchange.com/questions/47142/how-to-tex-an-arrow-with-vertical-stroke %
\newcommand\pto{\mathrel{\ooalign{\hfil$\mapstochar\mkern5mu$\hfil\cr$\to$\cr}}}

% autorefs %
\def\sectionautorefname{section}

% Beispiele für Quellcode
\usepackage{listings}

\lstdefinelanguage{Kotlin}{
  comment=[l]{//},
  commentstyle={\color{gray}\ttfamily},
  emph={delegate, filter, first, firstOrNull, forEach, lazy, map, mapNotNull, println, return@},
  emphstyle={\color{OrangeRed}},
  identifierstyle=\color{black},
  keywords={abstract, actual, as, as?, break, by, class, companion, continue, data, do, dynamic, else, enum, expect, false, final, for, fun, get, if, import, in, interface, internal, is, null, object, override, package, private, public, return, set, super, suspend, this, throw, true, try, typealias, val, var, vararg, when, where, while},
  keywordstyle={\color{NavyBlue}\bfseries},
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[s]{"""*}{*"""},
  ndkeywords={@Deprecated, @JvmField, @JvmName, @JvmOverloads, @JvmStatic, @JvmSynthetic, Array, Byte, Double, Float, Int, Integer, Iterable, Long, Runnable, Short, String},
  ndkeywordstyle={\color{BurntOrange}\bfseries},
  sensitive=true,
  stringstyle={\color{ForestGreen}\ttfamily},
}



\lstset{language=Kotlin,
  showstringspaces=false,
  frame=single,
  numbers=left,
  basicstyle=\ttfamily,
  numberstyle=\tiny
  captionpos=b,
  numbers=left,
  basicstyle=\singlespacing\ttfamily,
  numberstyle=\smaller\ttfamily,
  tabsize=4
}

\makeatletter
\AtBeginDocument{\@ifpackageloaded{amsmath}{\@mathmargin\z@}{}}%
\makeatother

% hier Namen etc. einsetzen
\newcommand{\fullname}{Florian Lappe}
\newcommand{\email}{florian.lappe@uni-ulm.de}
\newcommand{\titel}{}
\newcommand{\untertitel}{Development and Evaluation of a Metamodel to Define Modeling Syntaxes for CouchEdit}
\newcommand{\jahr}{2020}
\newcommand{\abgabedatum}{August 2020}
%\newcommand{\abschlussarbeit}{Bachelorarbeit}
\newcommand{\abschlussarbeit}{Bachelorarbeit}
\newcommand{\matrikelnummer}{922114}
\newcommand{\gutachterA}{Prof.\ Dr.\ Matthias\ Tichy}
\newcommand{\gutachterB}{}
\newcommand{\betreuer}{Dr.\ Alexander\ Raschke}

% hier die Fakultät auswählen
%\newcommand{\fakultaet}{---  Im Quellcode anpassen nicht vergessen! ---}
\newcommand{\fakultaet}{Ingenieurwissenschaften, Informatik und\\Psychologie}
%\newcommand{\fakultaet}{Mathematik und\\Wirtschafts-\\wissenschaften}
%\newcommand{\fakultaet}{Medizin}
%\newcommand{\fakultaet}{Naturwissenschaften}

% hier das Institut einsetzen
\newcommand{\institut}{Institut für Softwaretechnik und Programmiersprachen}


\newcommand{\comment}[1]{\textcolor{red}{#1}}

% Informationen, die LaTeX in die PDF-Datei schreibt
\pdfinfo{
  /Author (\fullname)
  /Title (\titel)
  /Producer     (pdfeTex 3.14159-1.30.6-2.2)
  /Keywords ()
}

\selectlanguage{ngerman}

\usepackage{hyperref}
\hypersetup{
pdftitle=\titel,
pdfauthor=\fullname,
pdfsubject={metamodeling, metamodel},
colorlinks=false,
pdfborder=0 0 0	% keine Box um die Links!
}

% Trennungsregeln
\hyphenation{Sil-ben-trenn-ung} 

\begin{document}
\frontmatter % ab hier römische Seitenzahlen


% Titelseite
\newgeometry{left=1.9cm, right=1.9cm, top=2.9cm, bottom=2.8cm}
\begin{titlepage}
  \fontfamily{phv}\selectfont % Helvetica als Schriftart
	\hfill\includegraphics[height=2.0cm]{images/logo_100_sRGB}\\[3.5cm] % Uni Ulm Logo 
	\begin{flushright}
		\Huge \textbf{\titel}\\[0.2cm]
		\fontsize{19}{20}\selectfont \textbf{\untertitel}\\
	\end{flushright}
	
	\vfill\hfill
	\parbox[t]{4.6cm}{
		\singlespacing
		\large
		\textbf{\fullname}\\
		\\
		Universität Ulm\\
		\\
		Fakultät für\\
		Ingenieurwissenschaften\\
		und Informatik\\
		\\
		Institut für\\
		Programmiermethodik\\
		und Compilerbau\\
		\\
		\abgabedatum\\
		\\
		{\abschlussarbeit} im\\
		Studiengang Informatik
	}
\end{titlepage}
\restoregeometry


% Abstract
\clearpage
\thispagestyle{empty}
\chapter*{Abstract}

% !/ignore-section

Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract,
Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract.
Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract,
Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract.

Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract,
Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract.
Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract,
Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract Abstract.

% !ignore-section
{
	\null
	\small
	\vfill
	\begin{center}
		\begin{tabular}{l l}
			Erstgutachter:  & \gutachterA \\
			Zweitgutachter: & \gutachterB \\
			Betreuer:       & \betreuer \\
		\end{tabular}\\[1cm]
		Fassung \today\\
		  \copyright~\jahr~\fullname\\[0.5em]
		% Wenn Sie Ihre Arbeit unter einer freien Lizenz bereitstellen möchten, können Sie die nächste Zeile in Ihren Code aufnehmen. Bitte beachten Sie, dass Sie hierfür an allen Inhalten, inklusive enthaltener Abbildungen, die notwendigen Rechte benötigen! Beim Veröffentlichungsexemplar Ihrer Dissertation achten Sie bitte darauf, dass der Lizenztext nicht den Angaben in den Metadaten der genutzten Publikationsplattform widerspricht. Nähere Information zu den Creative Commons Lizenzen erhalten Sie hier: https://creativecommons.org/licenses/
		This work is licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License. To view a copy of this license, visit \href{https://creativecommons.org/licenses/by/4.0/}{https://creativecommons.org/licenses/by/4.0/} or send a letter to Creative Commons, 543 Howard Street, 5th Floor, San Francisco, California, 94105, USA. \\
		
		Satz: PDF-\LaTeXe
	\end{center}
}


% Inhaltsverzeichnis
\tableofcontents

\mainmatter % ab hier wieder normale Seitenzahlen






% Inhalt (am besten mit \input in extra Dateien auslagern)
\input{chapters/introduction.tex}
\input{chapters/related_work.tex}
\input{chapters/fundamentals.tex}
\input{chapters/design.tex}
\input{chapters/prototype.tex}
\input{chapters/evaluation.tex}
\input{chapters/conclusion.tex}






% Abbildungsverzeichnis
\cleardoublepage % sonst stimmt die seitennummer im TOC nicht
\phantomsection
\addcontentsline{toc}{chapter}{Abbildungsverzeichnis}
\listoffigures


% Tabellenverzeichnis
\cleardoublepage % sonst stimmt die seitennummer im TOC nicht
\phantomsection
\addcontentsline{toc}{chapter}{Tabellenverzeichnis}
\listoftables


% Bibliographie (am besten mit Bibtex oder Biber)
\cleardoublepage % sonst stimmt die seitennummer im TOC nicht
\phantomsection
\addcontentsline{toc}{chapter}{Literaturverzeichnis}
\printbibliography

% Declaration of Independance
\clearpage
\thispagestyle{empty}

\noindent Name: \fullname \hfill Matrikelnummer: \matrikelnummer \vspace{2cm}

\minisec{Erklärung}

Ich erkläre, dass ich die Arbeit selbständig verfasst und keine anderen als die angegebenen Quellen und Hilfsmittel verwendet habe.\vspace{2cm}

\noindent Ulm, den \dotfill

\hspace{10cm} {\footnotesize \fullname}





\end{document}

% !/ignore-section
